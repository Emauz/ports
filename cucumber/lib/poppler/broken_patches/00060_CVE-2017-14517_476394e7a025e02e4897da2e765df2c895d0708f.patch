From 476394e7a025e02e4897da2e765df2c895d0708f Mon Sep 17 00:00:00 2001
From: Albert Astals Cid <aacid@kde.org>
Date: Wed, 13 Sep 2017 22:58:14 +0200
Subject: XRef::parseEntry: Fix crash in broken file

Bug #102687
---
 poppler/XRef.cc | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/poppler/XRef.cc b/poppler/XRef.cc
index eca2dc7..f3b88ec 100644
--- a/poppler/XRef.cc
+++ b/poppler/XRef.cc
@@ -1526,6 +1526,9 @@ GBool XRef::parseEntry(Goffset offset, XRefEntry *entry)
 {
   GBool r;
 
+  if (unlikely(entry == (void*)0))
+    return gFalse;
+
   Object obj;
   obj.initNull();
   Parser parser = Parser(NULL, new Lexer(NULL,
 
-- 
cgit v1.1

